(()=>{"use strict";function t(r){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(r)}function r(r,e){if(r&&"object"===t(r))return e.split(".").reduce((function(t,r){return t&&t[r]}),r)}function e(t,r){if(t){if("string"==typeof t)return n(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,r):void 0}}function n(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function o(t){var n=this,o=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",o=(new DOMParser).parseFromString(r,"text/html"),i=o.querySelectorAll(n),a=[];return i.forEach((function(r){var n,o=function(t){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=e(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r.attributes);try{var i=function(){var e=n.value;if(t.some((function(t){return e.name.startsWith(t)})))return a.push(r),1};for(o.s();!(n=o.n()).done&&!i(););}catch(t){o.e(t)}finally{o.f()}})),{doc:o,matchedElements:a}}(["el",":","@"],t),i=o.doc;return o.matchedElements.forEach((function(t){Array.from(t.attributes).forEach((function(o){var i,a,u=o.value.trim();if((o.name.startsWith("el:")||"el"===o.name)&&t.setAttribute("data-parent",n.tagName.toLowerCase()),o.name.startsWith(":")&&("class"===o.name.slice(1)&&u.split(",").map((function(t){return t.trim()})).forEach((function(e){t.classList.add(r(n,e))})),t.removeAttribute(o.name)),o.name.startsWith("@")){var c=o.name.slice(1);if(u.match(/=/i)){var l=(i=u.split("=").map((function(t){return t.trim()})),a=2,function(t){if(Array.isArray(t))return t}(i)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=i.call(e)).done)&&(u.push(n.value),u.length!==r);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(i,a)||e(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=l[0],s=l[1];t.setAttribute("data-event",c),t.setAttribute("data-prop",f),t.setAttribute("data-newvalue",s)}else{var y=u.match(/^([a-zA-Z0-9_]+)\((.*?)\)$/);if(y){var m=y[1];t.setAttribute("data-event",c),t.setAttribute("data-method",m);var p=null;y[2]&&y[2].match(/,/i)?y[2].split(",").map((function(t){t=n.getDynamicData(t)})).join(", "):y[2]&&(p=n.getDynamicData(y[2])),t.setAttribute("data-args",JSON.stringify(p))}else t.setAttribute("data-event",c),t.setAttribute("data-method",u)}t.removeAttribute(o.name),n.processEvents()}}))})),i.body.innerHTML}function i(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=(new DOMParser).parseFromString(r,"text/html");return this.querySelectorAll("[data-event]").forEach((function(r){var e=!1,n=r.getAttribute("data-event"),o=r.getAttribute("data-prop"),i=r.getAttribute("data-newvalue"),a=r.getAttribute("data-method"),u=r.getAttribute("data-args")||null;n.match(/\.prevent/i)&&(e=!0,n=n.replace(".prevent","")),r.addEventListener(n,(function(r){var n;e&&r.preventDefault(),o&&(n=t.getDynamicData(i),updateNestedProperty(t,o,n)),a&&"function"==typeof t[a]&&t[a](u)}))})),e.body.innerHTML}function a(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=i.call(e)).done)&&(u.push(n.value),u.length!==r);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,r)||function(t,r){if(t){if("string"==typeof t)return u(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function c(t){var e=this,n=(new DOMParser).parseFromString(t,"text/html");return n.querySelectorAll("[j-for]").forEach((function(t){t.querySelector("[j-if]");var n,o=t.getAttribute("j-for");t.removeAttribute("j-for");var i=a(o.split(" in ").map((function(t){return t.trim()})),2),u=i[0],c=i[1];if(u.startsWith("(")&&u.endsWith(")")){var l=a(u.slice(1,-1).split(",").map((function(t){return t.trim()})),2);u=l[0],n=l[1]}var f=r(e,c);if(Array.isArray(f)){var s=f.map((function(r,e){var o=t.cloneNode(!0),i=o.innerHTML;return i=i.replaceAll(/{{(.*?)}}/g,(function(t,o){return o.startsWith("".concat(u,"."))||o===n?new Function(u,n,"return ".concat(o))(r,e):t})),o.innerHTML=i,o.outerHTML})).join("");t.outerHTML=s}else console.error("[".concat(e.tagName,"] j-for data not iterable:"),f)})),n.body.innerHTML}function l(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function f(t){var r=this,e=(new DOMParser).parseFromString(t,"text/html"),n=e.querySelectorAll("[j-if]");return 0===n.length?t:(n.forEach((function(t){var e,n,o=t.getAttribute("j-if");if(o.match(/==/i)||o.match(/!==/i)){var i=(e=o.split("=="),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=i.call(e)).done)&&(u.push(n.value),u.length!==r);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(t,r){if(t){if("string"==typeof t)return l(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,r):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],u=i[1];a=r.getDynamicData(a.replace("!","").trim()),u=r.getDynamicData(u.trim())}else a=r.getDynamicData(o.trim());o.match(/==/i)?a!=u&&t.remove():o.match(/!==/i)?a===u&&t.remove():a||t.remove(),t.removeAttribute("j-if")})),e.body.innerHTML)}var s={get:function(t,r){return t[r]},set:function(t,r,e){t[r]=e,t.__component&&t.__component.r&&t.__component.render();var n=new CustomEvent("data-updated",{detail:{key:r,value:e},bubbles:!0});return document.dispatchEvent(n),!0}};function y(t,r){return t.__component=r,new Proxy(t,s)}function m(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,r){if(t&&"object"===p(t))return r.split(".").reduce((function(t,r){return t&&t[r]}),t)}function h(){this.args.data&&(this.data=y(this.args.data,this),this.dynamicKeys.push("data"));var t=this.getAttribute("data-parent");if(t){var r,e=this.closest(t),n=function(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(t){if("string"==typeof t)return m(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?m(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw i}}}}(this.attributes);try{for(n.s();!(r=n.n()).done;){var o=r.value;if("el"===o.name||o.name.startsWith("el:")){var i="el"===o.name?"el":o.name.slice(3),a=d(e,o.value);void 0!==a?(this[i]=y(a,this),this.dynamicKeys.push(i)):console.warn("[".concat(this.tagName,'] Failed to resolve prop "').concat(i,'" from path "').concat(o.value,'"'))}}}catch(t){n.e(t)}finally{n.f()}}else console.warn("[".concat(this.tagName,"] Parent component has no data, thought it can be normally."))}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function g(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function A(t){var r=function(t){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,"string");if("object"!=v(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(r)?r:r+""}function S(t){var r="function"==typeof Map?new Map:void 0;return S=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(r){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return function(t,r,e){if(w())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,r);var o=new(t.bind.apply(t,n));return e&&j(o,e.prototype),o}(t,arguments,E(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),j(e,t)},S(t)}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(w=function(){return!!t})()}function j(t,r){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},j(t,r)}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}window.app={com:function(t){customElements.define(t.name,function(e){function n(){var r;return function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(t,r,e){return r=E(r),function(t,r){if(r&&("object"==v(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(r,e||[],E(t).constructor):r.apply(t,e))}(this,n)).args=t,r.dynamicKeys=[],r.r=!1!==t.r,r.processAttr=o.bind(r),r.processEvents=i.bind(r),r.processFor=c.bind(r),r.processIf=f.bind(r),r.getData=h.bind(r),r.methods=t.methods||{},t.methods&&Object.entries(t.methods).forEach((function(t){var e=function(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=i.call(e)).done)&&(u.push(n.value),u.length!==r);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,r)||function(t,r){if(t){if("string"==typeof t)return b(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?b(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=e[0],o=e[1];r[n]=o.bind(r)})),r.tpl=t.tpl||function(){return"<div>Component tpl method is missing</div>"},r.getData(),r.render(),r.simple_reactivity(),document.addEventListener("data-updated",r.handleDataUpdated.bind(r)),t.mount&&("function"==typeof t.mount?t.mount.call(r):Array.isArray(t.mount)&&t.mount.forEach((function(t){return t.call(r)}))),r}return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&j(t,r)}(n,e),a=n,u=[{key:"handleDataUpdated",value:function(t){var r=t.detail;r.key,r.value,this.r&&this.render()}},{key:"render",value:function(){var t=this.tpl();t=this.processAttr(t),t=this.processFor(t),t=this.processIf(t),t=this.processInterpolation(t),this.innerHTML=t,this.processEvents()}},{key:"processInterpolation",value:function(t){var e=this;return t.includes("{{")?t.replace(/{{(.*?)}}/g,(function(t,n){var o=r(e,n.trim());return void 0!==o?o:""})):t}},{key:"getDynamicData",value:function(t){var e=this;return this.dynamicKeys.length&&this.dynamicKeys.forEach((function(n){t.startsWith("".concat(n,"."))&&(t=r(e,t))})),t}},{key:"simple_reactivity",value:function(){var t=this;this.dynamicKeys.forEach((function(r){var e=t[r];["change","input","select","keyup"].forEach((function(r){t.addEventListener(r,(function(t){e&&t.target.id&&(e[t.target.id]=t.target.value)}))}))}))}}],u&&g(a.prototype,u),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,u}(S(HTMLElement)))}}})();